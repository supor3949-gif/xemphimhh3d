<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Danh s√°ch phim | HH3D</title>
  <style>
    body{margin:0;font-family:Arial,sans-serif;background:#0f172a;color:#e5e7eb}
    header{background:#020617;padding:16px;text-align:center;font-size:22px;font-weight:800}
    .container{max-width:1100px;margin:0 auto;padding:18px}
    a{color:inherit;text-decoration:none}
    .back{display:inline-block;margin:6px 0 14px;color:#22c55e}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px}
    .card{background:#020617;border-radius:12px;padding:12px;text-align:center;border:1px solid rgba(255,255,255,.06)}
    .poster{width:100%;aspect-ratio:2/3;border-radius:10px;background-size: cover;
background-position: center;
display:flex;align-items:center;justify-content:center;font-weight:800;color:#94a3b8}
    .card h3{font-size:14px;margin:10px 0 0;line-height:1.2}
    .pager{display:flex;gap:8px;flex-wrap:wrap;margin:18px 0}
    .pager button{cursor:pointer;border:1px solid rgba(255,255,255,.12);background:#0b1020;color:#cbd5e1;padding:8px 10px;border-radius:10px}
    .pager button.active{background:#22c55e;color:#062a16;border-color:transparent;font-weight:800}
    .toprow{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
    .hint{color:#94a3b8;font-size:13px}
  </style>
</head>
<body>

<header>üìÇ Danh s√°ch phim HH3D</header>

<div class="container">
  <div class="toprow">
    <a class="back" href="index.html">‚Üê Quay v·ªÅ trang ch·ªß</a>
    <div class="hint">20 trang ‚Ä¢ 10 phim / trang</div>
  </div>

  <div id="grid" class="grid"></div>

  <div class="pager" id="pager"></div>
</div>

<script>
  // ====== C√ÄI S·∫¥N 20 TRANG, M·ªñI TRANG 10 PHIM ======
  const TOTAL_PAGES = 20;
  const PER_PAGE = 10;

  // T·∫°o 200 phim demo (sau n√†y To√†n ƒë·ªïi t√™n/phoster th·∫≠t)
  const films = [
  {
    id: 1,
    title: "Ti√™n Ngh·ªãch",
    image: "https://i.postimg.cc/ph96c30p/487538283-1091941059615599-4998609845969231110-n.jpg"
  },
  {
    id: 2,
    title: "ƒê·∫•u Ph√° Th∆∞∆°ng Khung",
    image: "https://i.postimg.cc/XXXX/dptk.jpg"
  },
  {
    id: 3,
    title: "Th·∫ø Gi·ªõi Ho√†n M·ªπ",
    image: "https://i.postimg.cc/XXXX/tghm.jpg"
  }
];


  function getPageFromURL(){
    const p = parseInt(new URLSearchParams(location.search).get("page") || "1", 10);
    if (Number.isNaN(p) || p < 1) return 1;
    if (p > TOTAL_PAGES) return TOTAL_PAGES;
    return p;
  }

  function render(page){
    // render grid
    const start = (page - 1) * PER_PAGE;
    const items = films.slice(start, start + PER_PAGE);

    const grid = document.getElementById("grid");
    grid.innerHTML = "";

    items.forEach((f) => {
      const card = document.createElement("a");
      card.className = "card";
      card.href = "#"; // b∆∞·ªõc sau m√¨nh s·∫Ω ƒë·ªïi sang trang phim ri√™ng

      card.innerHTML = `
  <div class="poster" style="background-image:url('images/anh-tien-nghich.jpg')"></div>
  <div class="title">Ti√™n Ngh·ªãch</div>
`;

      grid.appendChild(card);
    });

    // render pager 1..20
    const pager = document.getElementById("pager");
    pager.innerHTML = "";

    for(let p=1;p<=TOTAL_PAGES;p++){
      const btn = document.createElement("button");
      btn.textContent = p;
      if (p === page) btn.classList.add("active");
      btn.onclick = () => {
        // ƒë·ªïi URL ƒë·ªÉ share link trang d·ªÖ
        location.href = "phim.html?page=" + p;
      };
      pager.appendChild(btn);
    }
  }

  render(getPageFromURL());
</script>

</body>
</html>
