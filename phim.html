<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Danh s√°ch phim | HH3D</title>

  <style>
    body{
      margin:0;
      font-family:Arial, sans-serif;
      background:#0f172a;
      color:#e5e7eb;
    }
    header{
      background:#020617;
      padding:16px;
      text-align:center;
      font-size:20px;
      font-weight:800;
      letter-spacing:.3px;
    }
    .container{
      max-width:1100px;
      margin:0 auto;
      padding:18px;
    }
    a{ color:inherit; text-decoration:none; }

    .toprow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      margin:10px 0 14px;
    }
    .back{
      display:inline-block;
      margin:6px 0 14px;
      color:#22c55e;
      font-weight:700;
    }
    .hint{
      color:#94a3b8;
      font-size:13px;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
      gap:14px;
    }

    .card{
      background:#020617;
      border-radius:14px;
      padding:12px;
      text-align:center;
      border:1px solid rgba(255,255,255,.06);
      box-shadow:0 10px 30px rgba(0,0,0,.25);
    }

    .poster{
      width:100%;
      aspect-ratio:2/3;
      border-radius:12px;
      overflow:hidden;
      background:#0b1020;
      display:block;
      margin-bottom:10px;
    }
    .poster img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .title{
      font-weight:800;
      margin:6px 0 2px;
      font-size:14px;
      line-height:1.2;
    }

    /* PH√ÇN TRANG */
    .pager{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin:18px 0;
      justify-content:flex-start;
    }

    /* QUAN TR·ªåNG: CH·∫∂N ·∫¢NH N·ªÄN D√çNH V√ÄO N√öT */
    .pager button{
      cursor:pointer;
      border:1px solid rgba(255,255,255,.12);
      background:#0b1020;
      background-image:none !important; /* fix l·ªói h√¨nh d√≠nh v√†o n√∫t */
      color:#cbd5e1;
      padding:8px 10px;
      border-radius:10px;
      font-weight:800;
      min-width:38px;
    }
    .pager button.active{
      background:#22c55e;
      color:#062a16;
      border-color:transparent;
    }
  </style>
</head>

<body>
  <header>üìÅ Danh s√°ch phim HH3D</header>

  <div class="container">
    <div class="toprow">
      <a class="back" href="index.html">‚Üê Quay v·ªÅ trang ch·ªß</a>
      <div class="hint">20 trang ‚Ä¢ 10 phim / trang</div>
    </div>

    <div id="grid" class="grid"></div>
    <div id="pager" class="pager"></div>
  </div>

  <script>
    // ====== C·∫§U H√åNH ======
    const TOTAL_PAGES = 20;
    const PER_PAGE = 10;

    // ====== DATA PHIM (demo) ======
    // Em thay d·∫ßn t√™n + ·∫£nh ·ªü ƒë√¢y. ·∫¢nh ƒë·ªÉ trong /images/
    // V√≠ d·ª• em c√≥ file: images/anh-tien-nghich.jpg
    const films = [
      { id: 1, title: "Ti√™n Ngh·ªãch", image: "images/anh-tien-nghich.jpg" },
      { id: 2, title: "ƒê·∫•u Ph√° Th∆∞∆°ng Khung", image: "images/dptk.jpg" },
      { id: 3, title: "Th·∫ø Gi·ªõi Ho√†n M·ªπ", image: "images/tghm.jpg" },
      { id: 4, title: "HH3D 4", image: "images/placeholder.jpg" },
      { id: 5, title: "HH3D 5", image: "images/placeholder.jpg" },
      { id: 6, title: "HH3D 6", image: "images/placeholder.jpg" },
      { id: 7, title: "HH3D 7", image: "images/placeholder.jpg" },
      { id: 8, title: "HH3D 8", image: "images/placeholder.jpg" },
      { id: 9, title: "HH3D 9", image: "images/placeholder.jpg" },
      { id: 10, title: "HH3D 10", image: "images/placeholder.jpg" },

      // N·∫øu em mu·ªën ƒë·ªß 200 phim th√¨ c·ª© th√™m ti·∫øp (id tƒÉng d·∫ßn)
      // { id: 11, title: "...", image: "images/....jpg" },
    ];

    // N·∫øu em CH∆ØA c√≥ ƒë·ªß 200 phim, anh t·ª± t·∫°o th√™m phim demo cho ƒë·ªß trang
    // ƒë·ªÉ ph√¢n trang kh√¥ng b·ªã tr·ªëng.
    (function fillDemoIfNeeded(){
      const need = TOTAL_PAGES * PER_PAGE;
      if (films.length >= need) return;
      const start = films.length + 1;
      for(let i = start; i <= need; i++){
        films.push({
          id: i,
          title: "HH3D " + i,
          image: "images/placeholder.jpg"
        });
      }
    })();

    // ====== H√ÄM L·∫§Y PAGE T·ª™ URL ======
    function getPageFromURL(){
      const params = new URLSearchParams(location.search);
      const p = parseInt(params.get("page") || "1", 10);
      if (Number.isNaN(p) || p < 1) return 1;
      if (p > TOTAL_PAGES) return TOTAL_PAGES;
      return p;
    }

    // ====== RENDER ======
    function render(page){
      const grid = document.getElementById("grid");
      const pager = document.getElementById("pager");
      grid.innerHTML = "";
      pager.innerHTML = "";

      const start = (page - 1) * PER_PAGE;
      const items = films.slice(start, start + PER_PAGE);

      items.forEach(film => {
        const card = document.createElement("div");
        card.className = "card";

        // poster
        const poster = document.createElement("a");
        poster.className = "poster";
        poster.href = "#"; // sau n√†y em mu·ªën b·∫•m v√†o phim th√¨ ƒë·ªïi link ·ªü ƒë√¢y

        const img = document.createElement("img");
        img.src = film.image;
        img.alt = film.title;

        // n·∫øu ·∫£nh l·ªói -> d√πng placeholder
        img.onerror = () => { img.src = "images/placeholder.jpg"; };

        poster.appendChild(img);

        // title
        const title = document.createElement("div");
        title.className = "title";
        title.textContent = film.title;

        card.appendChild(poster);
        card.appendChild(title);
        grid.appendChild(card);
      });

      // ph√¢n trang
      for(let p = 1; p <= TOTAL_PAGES; p++){
        const btn = document.createElement("button");
        btn.textContent = p;
        if (p === page) btn.classList.add("active");

        btn.onclick = () => {
          location.href = "phim.html?page=" + p;
        };

        pager.appendChild(btn);
      }
    }

    render(getPageFromURL());
  </script>
</body>
</html>
