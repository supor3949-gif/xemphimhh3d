<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Danh s√°ch phim | HH3D</title>
  <style>
    body{margin:0;font-family:Arial,sans-serif;background:#0f172a;color:#e5e7eb}
    header{background:#020617;padding:16px;text-align:center;font-size:22px;font-weight:800}
    .container{max-width:1100px;margin:0 auto;padding:18px}
    a{color:inherit;text-decoration:none}
    .toprow{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
    .back{display:inline-block;margin:6px 0 14px;color:#22c55e}
    .hint{color:#94a3b8;font-size:13px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px}
    .card{background:#020617;border-radius:12px;padding:12px;text-align:center;border:1px solid rgba(255,255,255,.06);cursor:pointer}
    .card:hover{border-color:rgba(34,197,94,.35)}
    .poster{
      width:100%;
      aspect-ratio:2/3;
      border-radius:10px;
      background:#0b1020;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }
    .poster img{width:100%;height:100%;object-fit:cover;display:block}
    .poster .noimg{
      position:absolute;color:#94a3b8;font-weight:800;letter-spacing:.5px;font-size:12px
    }
    .card h3{font-size:14px;margin:10px 0 0;line-height:1.2}
    .pager{display:flex;gap:8px;flex-wrap:wrap;margin:18px 0}
    .pager button{
      cursor:pointer;border:1px solid rgba(255,255,255,.12);
      background:#0b1020;color:#cbd5e1;padding:8px 10px;border-radius:10px
    }
    .pager button.active{background:#22c55e;color:#062a16;border-color:transparent;font-weight:800}
  
  padding: 12px 18px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
}
.brand{display:flex;align-items:center;gap:10px}
.logo{
  width: 42px;
  height: 42px;
  border-radius: 12px;
  background:#0b1020;
}
.brandName{font-size:18px;font-weight:900}
.brandTag{font-size:12px;color:#94a3b8}
.tools{display:flex;gap:10px;fl</style>/* ===== HEADER STYLE ===== */
.siteHeader{
  position: sticky;
  top: 0;
  z-index: 50;
  background: rgba(2,6,23,.9);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.headerInner{
  max-width: 1100px;
  margin: 0 auto;ex-wrap:wrap}
.searchWrap{
  display:flex;
  align-items:center;
  gap:6px;
  background:#0b1020;
  border:1px solid rgba(255,255,255,.12);
  border-radius:12px;
  padding:8px 10px;
}
.search{
  background:none;
  border:none;
  outline:none;
  color:#e5e7eb;
  width:200px;
}
.select{
  background:#0b1020;
  color:#cbd5e1;
  border:1px solid rgba(255,255,255,.12);
  border-radius:12px;
  padding:8px 10px;
}


</head>
<body>
  <!-- ================= HEADER CH√çNH ================= -->
<!-- LOGO (tr√°i) + T√åM KI·∫æM + TH·ªÇ LO·∫†I + S·∫ÆP X·∫æP (ph·∫£i) -->
<header class="siteHeader">
  <div class="headerInner">

    <!-- ===== LOGO + T√äN WEB (G√ìC TR√ÅI) ===== -->
    <a class="brand" href="phim.html">
      <!-- Logo SVG (kh·ªèi c·∫ßn ·∫£nh, load nhanh) -->
      <svg class="logo" viewBox="0 0 64 64">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#22c55e"/>
            <stop offset="1" stop-color="#60a5fa"/>
          </linearGradient>
        </defs>
        <rect x="6" y="10" width="52" height="44" rx="12" fill="url(#g)" opacity="0.18"/>
        <path d="M18 22h28v20H18z" fill="none" stroke="url(#g)" stroke-width="3"/>
        <path d="M28 27l12 5-12 5z" fill="url(#g)"/>
      </svg>

      <!-- T√™n + slogan -->
      <div class="brandText">
        <div class="brandTag">Kho phim ch·ªçn l·ªçc</div>
      
      </div>
    </a>

    <!-- ===== C√îNG C·ª§ (G√ìC PH·∫¢I) ===== -->
    <div class="tools">

      <!-- √î t√¨m phim -->
      <div class="searchWrap">
        <span class="searchIcon">üîç</span>
        <input id="q" class="search" placeholder="T√¨m t√™n phim..." />
      </div>

      <!-- Ch·ªçn th·ªÉ lo·∫°i -->
      <select id="genre" class="select">
        <option value="">T·∫•t c·∫£ th·ªÉ lo·∫°i</option>
        <option value="tien-hiep">Ti√™n hi·ªáp</option>
        <option value="huyen-huyen">Huy·ªÅn huy·ªÖn</option>
        <option value="kiem-hiep">Ki·∫øm hi·ªáp</option>
        <option value="hoat-hinh">Ho·∫°t h√¨nh</option>
      </select>

      <!-- S·∫Øp x·∫øp -->
      <select id="sort" class="select">
        <option value="new">M·ªõi c·∫≠p nh·∫≠t</option>
        <option value="az">A ‚Üí Z</option>
        <option value="za">Z ‚Üí A</option>
        <option value="eps">Nhi·ªÅu t·∫≠p</option>
      </select>

    </div>
  </div>
</header>
<!-- =============== END HEADER ================= -->


  <div class="container">
    <div class="toprow">
      <a class="back" href="index.html"></a>
      <div class="hint" id="hint">20 trang ‚Ä¢ 10 phim / trang</div>
    </div>

    <div id="grid" class="grid"></div>
    <div id="pager" class="pager"></div>
  </div>

  <script>
    const TOTAL_PAGES = 20;
    const PER_PAGE = 10;

    // ===== T·∫†O S·∫¥N 200 PHIM (10 PHIM / TRANG √ó 20 TRANG) =====
    // L∆ØU √ù:
    // - KH√îNG x√≥a d√≤ng
    // - CH·ªà ƒë·ªïi: title + poster + slug + episodesCount
    // - slug KH√îNG d·∫•u, KH√îNG kho·∫£ng tr·∫Øng
    const films = Array.from({ length: 200 }, (_, i) => ({
      id: i + 1,
      title: "",
      poster: "",
      slug: `film-${i + 1}`,
      episodesCount: 0
    }));

    // ===== PHIM 1 ‚Äì TI√äN NGH·ªäCH (GI·ªÆ NGUY√äN) =====
    films[0].title = "Ti√™n Ngh·ªãch";
    films[0].poster = "images/anh-tien-nghich.jpg";
    films[0].slug = "tien-nghich";
    films[0].episodesCount = 126;

    // ===== PHIM 2 (v√≠ d·ª•) =====
    films[1].title = "ƒê·∫•u Ph√° Th∆∞∆°ng Khung";
    films[1].poster = "images/dptk.jpg";
    films[1].slug = "dau-pha-thuong-khung";
    // films[1].episodesCount = 0; // ch∆∞a c√≥ t·∫≠p th√¨ ƒë·ªÉ 0

    // ===== PHIM 3 (v√≠ d·ª•) =====
    films[2].title = "Th·∫ø Gi·ªõi Ho√†n M·ªπ";
    films[2].poster = "images/tghm.jpg";
    films[2].slug = "the-gioi-hoan-my";
    // films[2].episodesCount = 0;

    // ===== PHIM 4 ‚Äì M·ª§C TH·∫¶N K√ç =====
    films[3].title = "M·ª•c Th·∫ßn K√≠";
    films[3].poster = "images/muc-than-ki.jpg";
    films[3].slug = "muc-than-ki";
    films[3].episodesCount = 68;

    // üëâ T·ª™ films[4] ‚Üí films[199] EM T·ª∞ ƒêI·ªÄN

    function getPageFromURL(){
      const u = new URL(location.href);
      const p = parseInt(u.searchParams.get("page") || "1", 10);
      return Math.min(Math.max(p, 1), TOTAL_PAGES);
    }

    function goPage(p){
      const u = new URL(location.href);
      u.searchParams.set("page", String(p));
      location.href = u.toString();
    }

    function render(page){
      const grid = document.getElementById("grid");
      const pager = document.getElementById("pager");

      const start = (page - 1) * PER_PAGE;
      const items = films.slice(start, start + PER_PAGE);

      grid.innerHTML = "";
      items.forEach(film => {
        const card = document.createElement("div");
        card.className = "card";

        // ‚úÖ b·∫•m m·ªü xem khi phim c√≥ episodesCount > 0
        card.onclick = () => {
          if (!film.episodesCount || film.episodesCount <= 0) {
            alert("Phim n√†y ch∆∞a c√≥ t·∫≠p. B·∫°n c·∫≠p nh·∫≠t episodesCount tr∆∞·ªõc nha!");
            return;
          }

          // ‚úÖ N·∫øu mu·ªën t·∫°o file RI√äNG cho phim n√†o th√¨ th√™m IF ·ªü ƒë√¢y
          if (film.slug === "muc-than-ki") {
            location.href = "muc-than-ki.html";
            return;
          }

          // ‚úÖ M·∫∑c ƒë·ªãnh d√πng xem.html
          location.href = `xem.html?film=${encodeURIComponent(film.slug)}`;
        };

        const posterHTML = film.poster
          ? `<img src="${film.poster}" alt="${film.title}" loading="lazy">`
          : `<div class="noimg">NO IMAGE</div>`;

        card.innerHTML = `
          <div class="poster">${posterHTML}</div>
          <h3>${film.title || ("HH3D " + film.id)}</h3>
        `;
        grid.appendChild(card);
      });

      pager.innerHTML = "";
      for (let p = 1; p <= TOTAL_PAGES; p++){
        const btn = document.createElement("button");
        btn.textContent = p;
        if (p === page) btn.classList.add("active");
        btn.onclick = () => goPage(p);
        pager.appendChild(btn);
      }
    }

    render(getPageFromURL());
  </script>
</body>
</html>
